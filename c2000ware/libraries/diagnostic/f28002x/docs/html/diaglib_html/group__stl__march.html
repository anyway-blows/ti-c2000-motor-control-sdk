<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>March13N Test API Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="$relpath/search.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">March13N Test API Functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_t_l___march___inject_error_obj.html">STL_March_InjectErrorObj</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the March memory test inject error object.  <a href="struct_s_t_l___march___inject_error_obj.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga589d8ac266fc79d2ba7fb6b045dfb55e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#ga589d8ac266fc79d2ba7fb6b045dfb55e">STL_MARCH_PASS</a>&#160;&#160;&#160;0U</td></tr>
<tr class="separator:ga589d8ac266fc79d2ba7fb6b045dfb55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1ca4cd4e600c814c88b61b7feed2668"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#gae1ca4cd4e600c814c88b61b7feed2668">STL_MARCH_CORR_ERROR</a>&#160;&#160;&#160;1U</td></tr>
<tr class="separator:gae1ca4cd4e600c814c88b61b7feed2668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe477d5d804c0cad19bd99c1a39f480d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#gafe477d5d804c0cad19bd99c1a39f480d">STL_MARCH_UNC_ERROR</a>&#160;&#160;&#160;2U</td></tr>
<tr class="separator:gafe477d5d804c0cad19bd99c1a39f480d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25c7353040d6c56f25317d7cf3309a92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#ga25c7353040d6c56f25317d7cf3309a92">STL_MARCH_BOTH_ERROR</a>&#160;&#160;&#160;3U</td></tr>
<tr class="separator:ga25c7353040d6c56f25317d7cf3309a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga50d83c02f4fb073d2bf9975251336910"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="struct_s_t_l___march___inject_error_obj.html">STL_March_InjectErrorObj</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#ga50d83c02f4fb073d2bf9975251336910">STL_March_InjectErrorHandle</a></td></tr>
<tr class="separator:ga50d83c02f4fb073d2bf9975251336910"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga70899b03ea106698038cd5335b88a91a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#ga70899b03ea106698038cd5335b88a91a">STL_March_Pattern</a> { <br/>
&#160;&#160;<a class="el" href="group__stl__march.html#gga70899b03ea106698038cd5335b88a91aa50911f1722cf57c8f0579dc9c990b701">STL_MARCH_PATTERN_ONE</a> = 0x96966969U, 
<br/>
&#160;&#160;<a class="el" href="group__stl__march.html#gga70899b03ea106698038cd5335b88a91aa663fa4893e826d199263ae480d515a25">STL_MARCH_PATTERN_TWO</a> = 0x0000FFFEU, 
<br/>
&#160;&#160;<a class="el" href="group__stl__march.html#gga70899b03ea106698038cd5335b88a91aa97482a30ecd2410d3904a74277224cc4">STL_MARCH_PATTERN_THREE</a> = 0x2AAA5555U, 
<br/>
&#160;&#160;<a class="el" href="group__stl__march.html#gga70899b03ea106698038cd5335b88a91aaad1ac96ac1a0c175b7ca11211f03db7f">STL_MARCH_PATTERN_FOUR</a> = 0xCC3723CCU
<br/>
 }</td></tr>
<tr class="separator:ga70899b03ea106698038cd5335b88a91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga35601eb00989fd5bbb1bdb16d0359cc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#ga35601eb00989fd5bbb1bdb16d0359cc7">STL_March_testRAMCopy</a> (const <a class="el" href="group__stl__march.html#ga70899b03ea106698038cd5335b88a91a">STL_March_Pattern</a> pattern, const uint32_t startAddress, const uint32_t length, const uint32_t copyAddress)</td></tr>
<tr class="memdesc:ga35601eb00989fd5bbb1bdb16d0359cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a March13N non-destructive memory test on the specified RAM memory.  <a href="#ga35601eb00989fd5bbb1bdb16d0359cc7">More...</a><br/></td></tr>
<tr class="separator:ga35601eb00989fd5bbb1bdb16d0359cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga996b54ec54eb27feb20eda8d1b2808c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#ga996b54ec54eb27feb20eda8d1b2808c1">STL_March_testRAM</a> (const <a class="el" href="group__stl__march.html#ga70899b03ea106698038cd5335b88a91a">STL_March_Pattern</a> pattern, const uint32_t startAddress, const uint32_t length)</td></tr>
<tr class="memdesc:ga996b54ec54eb27feb20eda8d1b2808c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a March13N destructive memory test on the specified RAM memory.  <a href="#ga996b54ec54eb27feb20eda8d1b2808c1">More...</a><br/></td></tr>
<tr class="separator:ga996b54ec54eb27feb20eda8d1b2808c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bd25a429d8a5902a2b7542aa68ce99e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#ga4bd25a429d8a5902a2b7542aa68ce99e">STL_March_injectError</a> (const <a class="el" href="group__stl__march.html#ga50d83c02f4fb073d2bf9975251336910">STL_March_InjectErrorHandle</a> errorHandle)</td></tr>
<tr class="memdesc:ga4bd25a429d8a5902a2b7542aa68ce99e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Injects an error into a RAM memory address.  <a href="#ga4bd25a429d8a5902a2b7542aa68ce99e">More...</a><br/></td></tr>
<tr class="separator:ga4bd25a429d8a5902a2b7542aa68ce99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49504225c2dedba1ea22de8ba2fac554"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stl__march.html#ga49504225c2dedba1ea22de8ba2fac554">STL_March_checkErrorStatus</a> (void)</td></tr>
<tr class="memdesc:ga49504225c2dedba1ea22de8ba2fac554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the status of the Memory Error Registers for RAM.  <a href="#ga49504225c2dedba1ea22de8ba2fac554">More...</a><br/></td></tr>
<tr class="separator:ga49504225c2dedba1ea22de8ba2fac554"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The code for this module is contained in <code>source/stl_march.c</code> and <code>source/stl_march_s.asm</code>, with <code><a class="el" href="stl__march_8h.html">include/stl_march.h</a></code> containing the API declarations for use by applications.</p>
<h1>Error Injection</h1>
<p>Here are techniques to inject error:</p>
<p><b><a class="el" href="group__stl__march.html#ga996b54ec54eb27feb20eda8d1b2808c1" title="Performs a March13N destructive memory test on the specified RAM memory. ">STL_March_testRAM()</a></b>, <b><a class="el" href="group__stl__march.html#ga35601eb00989fd5bbb1bdb16d0359cc7" title="Performs a March13N non-destructive memory test on the specified RAM memory. ">STL_March_testRAMCopy()</a></b> </p>
<ul>
<li>Call <a class="el" href="group__stl__march.html#ga4bd25a429d8a5902a2b7542aa68ce99e" title="Injects an error into a RAM memory address. ">STL_March_injectError()</a> with testMode and xorMask values that cause errors. </li>
</ul>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga589d8ac266fc79d2ba7fb6b045dfb55e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STL_MARCH_PASS&#160;&#160;&#160;0U</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gae1ca4cd4e600c814c88b61b7feed2668"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STL_MARCH_CORR_ERROR&#160;&#160;&#160;1U</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gafe477d5d804c0cad19bd99c1a39f480d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STL_MARCH_UNC_ERROR&#160;&#160;&#160;2U</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga25c7353040d6c56f25317d7cf3309a92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STL_MARCH_BOTH_ERROR&#160;&#160;&#160;3U</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga50d83c02f4fb073d2bf9975251336910"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_s_t_l___march___inject_error_obj.html">STL_March_InjectErrorObj</a>* <a class="el" href="group__stl__march.html#ga50d83c02f4fb073d2bf9975251336910">STL_March_InjectErrorHandle</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines the RAM error logic test handle </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga70899b03ea106698038cd5335b88a91a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__stl__march.html#ga70899b03ea106698038cd5335b88a91a">STL_March_Pattern</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Values that must be used to pass to determine the test pattern for <a class="el" href="group__stl__march.html#ga35601eb00989fd5bbb1bdb16d0359cc7" title="Performs a March13N non-destructive memory test on the specified RAM memory. ">STL_March_testRAMCopy()</a> and <a class="el" href="group__stl__march.html#ga996b54ec54eb27feb20eda8d1b2808c1" title="Performs a March13N destructive memory test on the specified RAM memory. ">STL_March_testRAM()</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga70899b03ea106698038cd5335b88a91aa50911f1722cf57c8f0579dc9c990b701"></a>STL_MARCH_PATTERN_ONE</em>&nbsp;</td><td class="fielddoc">
<p>Test Pattern One. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga70899b03ea106698038cd5335b88a91aa663fa4893e826d199263ae480d515a25"></a>STL_MARCH_PATTERN_TWO</em>&nbsp;</td><td class="fielddoc">
<p>Test Pattern Two. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga70899b03ea106698038cd5335b88a91aa97482a30ecd2410d3904a74277224cc4"></a>STL_MARCH_PATTERN_THREE</em>&nbsp;</td><td class="fielddoc">
<p>Test Pattern Three. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga70899b03ea106698038cd5335b88a91aaad1ac96ac1a0c175b7ca11211f03db7f"></a>STL_MARCH_PATTERN_FOUR</em>&nbsp;</td><td class="fielddoc">
<p>Test Pattern Four. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga35601eb00989fd5bbb1bdb16d0359cc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STL_March_testRAMCopy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__stl__march.html#ga70899b03ea106698038cd5335b88a91a">STL_March_Pattern</a>&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>startAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>copyAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a March13N non-destructive memory test on the specified RAM memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pattern</td><td>is the test pattern to use. </td></tr>
    <tr><td class="paramname">startAddress</td><td>is the address to start the memory test. </td></tr>
    <tr><td class="paramname">length</td><td>is the number of 32-bit words of the memory test minus 1. </td></tr>
    <tr><td class="paramname">copyAddress</td><td>is the address to copy the original contents of the memory under test. It will be used to restore the original memory at the end of the March13N memory test.</td></tr>
  </table>
  </dd>
</dl>
<p>This function performs a March13N memory test on RAM specified by <b>startAddress</b> and <b>length</b>. This function performs a non-destructive memory test. This means that it will begin by copying the original contents of the memory to <b>copyAddress</b>, perform the memory test, and then copy the original contents back to the memory under test. The test patterns along with the March13N memory test algorithm provided, test memory for stuck-at-faults as well as boundary cases including worst case timings tailored for the C2000 RAM bank architecture.</p>
<p>This test is implemented to be able to perform a memory test on any section of RAM including the stack.</p>
<dl class="section note"><dt>Note</dt><dd>If this code is running from RAM, be careful not to perform this memory test on itself, meaning do not perform the March13N memory test on the March13N program code in RAM. This will likely lead to an ITRAP. In order to test the program code for this March13N algorithm, the user can create a copy of this function in RAM or flash and run the memory test code from the copy.</dd>
<dd>
This function disables global CPU interrupts (DINT) and then re-enables them after the test has completed.</dd>
<dd>
<b>length</b> is the number of 32-bits words to test minus 1. For example, in order to test 8 32-bit words, length is 7.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga996b54ec54eb27feb20eda8d1b2808c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STL_March_testRAM </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__stl__march.html#ga70899b03ea106698038cd5335b88a91a">STL_March_Pattern</a>&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>startAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a March13N destructive memory test on the specified RAM memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pattern</td><td>is the test pattern to use. </td></tr>
    <tr><td class="paramname">startAddress</td><td>is the address to start the memory test. </td></tr>
    <tr><td class="paramname">length</td><td>is the number of 32-bit words of the memory test minus 1.</td></tr>
  </table>
  </dd>
</dl>
<p>This function performs a March13N memory test on RAM specified by <b>startAddress</b> and <b>length</b>. This test performs a destructive memory test, meaning the original contents will be lost by this test. The test patterns along with the March13N memory test algorithm provided, test memory for stuck-at-faults as well as boundary cases including worst case timings tailored for the C2000 RAM bank architecture.</p>
<dl class="section note"><dt>Note</dt><dd>If this code is running from RAM, be careful not to perform this memory test on itself, meaning do not perform the March13N memory test on the March13N program code in RAM. This will likely lead to an ITRAP. In order to test the program code for this March13N algorithm, the user can create a copy of this function in RAM or flash and run the memory test code from the copy.</dd>
<dd>
This function disables global CPU interrupts (DINT) and then re-enables them after the test has completed.</dd>
<dd>
<b>length</b> is the number of 32-bits words to test minus 1. For example, in order to test 8 32-bit words, length is 7.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4bd25a429d8a5902a2b7542aa68ce99e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STL_March_injectError </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__stl__march.html#ga50d83c02f4fb073d2bf9975251336910">STL_March_InjectErrorHandle</a>&#160;</td>
          <td class="paramname"><em>errorHandle</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Injects an error into a RAM memory address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errorHandle</td><td>the inject error handle specifying where and what type of error to inject into RAM.</td></tr>
  </table>
  </dd>
</dl>
<p>This function injects an error at a specific memory <b>address</b> in a specific <b>ramSection</b>. <b>testMode</b> specifies whether the error will be injected in the data or ECC/parity bits. <b>xorMask</b> specifies which bit or bits to flip in order to corrupt either the data or ECC/parity bits.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga49504225c2dedba1ea22de8ba2fac554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t STL_March_checkErrorStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the status of the Memory Error Registers for RAM. </p>
<p>This function checks if there are any correctable or uncorrectable errors indicated by the Memory Error Registers and returns the status.</p>
<dl class="section return"><dt>Returns</dt><dd>If the Memory Error Registers indicate a correctable error and/or an uncorrectable error in RAM, then the function returns <b>STL_MARCH_CORR_ERROR</b>, <b>STL_MARCH_UNC_ERROR</b>, or <b>STL_MARCH_BOTH_ERROR</b>. Otherwise, the function returns <b>STL_MARCH_PASS</b>. </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1" /><small>
Copyright  2021, Texas Instruments Incorporated</small>
</body>
</html>
